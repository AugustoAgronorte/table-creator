<div class="container">
  <div class="row bg-secondary-subtle p-4 mt-4 rounded rounded--lg d-flex mb-4 justify-content-between">
    <h1>FORMULARIO DE RELACIONES</h1>
    <hr>
    <div class="row">
      <div class="col-md-6">
        <form (submit)="onSumbit()">
          <div class="row">
            <div class="col-md-5">
              <div class="col">
                <label for="tablaSeleccionadaPadre" class="form-label">Tabla padre</label>
                <select id="tablaSeleccionadaPadre" class="form-select" (change)="onTablaSelectedPadre($event)">
                  <option value="">Seleccionar una tabla</option>
                  <option *ngFor="let opcion of responseData?.content" [value]="opcion">{{ opcion }}</option>
                </select>
              </div>
              <div class="col">
                <label for="campoPadre" class="form-label">Campo</label>
                <select id="campoPadre" class="form-select" (change)="onCampoSelectedPadre($event)">
                  <option value="">Selecciona un campo</option>
                  <option *ngFor="let campo of camposPadre" [value]="campo">{{ campo }}</option>
                </select>
              </div>
              <div class="col">
                <label for="campoPadre" class="form-label">Definicion formulario padre</label>
                <select id="campoPadre" class="form-select" (change)="onFormSelectedPadre($event)">
                  <option value="">Selecciona un campo</option>
                  <option *ngFor="let form of this.responseDataForm" [value]="form.id">{{form.definition}}</option>
                </select>
              </div>
            </div>
            <div class="col-md-2 d-flex justify-content-center align-items-center">
              <fa-icon [icon]="faArrowsAltH" class="display-6"></fa-icon>
              
            </div>
            <div class="col-md-5 mb-4">
              <div class="col">
                <label for="tablaHijo" class="form-label">Tabla hijo</label>
                <select id="tablaHijo" class="form-select" (change)="onTablaSelectedHijo($event)">
                  <option value="">Selecciona una tabla</option>
                  <option *ngFor="let opcion of responseData?.content" [value]="opcion">{{ opcion }}</option>
                </select>
              </div>
              <div class="col">
                <label for="campoHijo" class="form-label">Campo</label>
                <select id="campoHijo" class="form-select" (change)="onCampoSelectedHijo($event)">
                  <option value="">Selecciona un campo</option>
                  <option *ngFor="let campo of camposHijo" [value]="campo">{{ campo }}</option>
                </select>
              </div>
              <div class="col">
                <label for="campoHijo" class="form-label">Definicion formulario hijo</label>
                <select  id="campoHijo" class="form-select" (change)="onFormSelectedHijo($event)">
                  <option value="">Selecciona un campo</option>
                  <option *ngFor="let form of this.responseDataForm" [value]="form.id">{{form.definition}}</option>
                </select>
              </div>
            </div>
          </div>
          <div class="row mb-3">
            <div class="col-md-6">
              <label for="description" class="form-label">Descripcion</label>
              <input class="form-control shadow-lg" type="text" name="description" id="description"
                [(ngModel)]="this.description">
            </div>
            <div class="col-md-6">
              <label for="Tipo" class="form-label">Tipo</label>
              <input class="form-control shadow-lg" type="text" name="Tipo" id="Tipo" [(ngModel)]="this.relationalType">
            </div>
          </div>
          <div class="row">
            <div class="col-md-6">
              <label for="editable" class="form-label">¿Editable?</label>
              <div class="form-check form-switch pb-2">
                <input class="form-check-input" type="checkbox" id="editable" [(ngModel)]="this.editable"
                  name="editable">
              </div>
            </div>
          </div>

          <div class="d-flex justify-content-end">
            <button type="submit" class="btn btn-primary me-2">Crear</button>
            <button type="button" (click)="limpiarForm()" class="btn btn-secondary">Cancelar</button>
          </div>
        </form>
      </div>
      <div class="col-md-6">
        <div *ngFor="let tabla of this.tablasCreadas" class="bg-white rounded rounded--lg shadow-lg mb-4 p-3">
        <h4>Tabla creada</h4>
        <hr>
        <p><strong>Descripcion: </strong>{{tabla.description}}</p>
        <p><strong>Tipo: </strong>{{tabla.relation_type}}</p>
        <p><strong>Tabla padre: </strong>{{tabla.table_from}}</p>
        <p><strong>Campo padre: </strong>{{tabla.table_from_key}}</p>
        <p><strong>Form padre: </strong>{{tabla.form_definition_from}}</p>

        <hr>
        <p><strong>Tabla hijo: </strong>{{tabla.table_to}}</p>
        <p><strong>Campo hijo: </strong>{{tabla.table_to_key}}</p>
        <p *ngIf="tabla.form_definition_to"><strong>Form hijo: </strong>{{tabla.form_definition_to}}</p>
        <p *ngIf="tabla.editable == 1"><strong>¿Editable?: </strong>Si</p>
        <p *ngIf="tabla.editable == 0"><strong>¿Editable?: </strong>No</p>
        <p><strong>Descripcion: </strong>{{tabla.description}}</p>



      </div>
      </div>
    </div>
  </div>
</div>