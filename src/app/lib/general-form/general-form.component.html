<div class="row bg-secondary-subtle p-4 mt-4 rounded rounded--lg d-flex mb-4 justify-content-between">
    <!-- Columna para el formulario de ApiDefinition -->
    <div class="col-md-6">
        <form [formGroup]="apiGeneralForm" (ngSubmit)="buscarApiDef()">
            <h3>ApiDefinition</h3>
            <hr>

            <div class="alert alert-container" *ngIf="showAlert">
                <div class="alert alert-success mt-3">
                  Exito al borrar la ApiDefinicion
                </div>
            </div>

            <h6>Buscar api Definition</h6>
            <p class="alert alert-primary">Si desea obtener todas las definiciones, no ingrese id. <br> Para una busqueda individual, introduzca el ID. <br> Si desea <strong>EDITAR</strong> o <strong>ELIMINAR</strong> busque por Id para las opciones
            <div class="col-md-6">
                <div class="form-group  mb-2">
                    <label for="idApiDefSearch">Id Api Definition</label>
                    <input class="form-control shadow-lg" id="idApiDefSearch" type="text"
                        formControlName="idApiDefSearch">
                </div>
                <div class="d-flex justify-content-between">
                    <button type="submit" (click)="desactivarCreate()" class="btn btn-info">Buscar</button>
                    <button type="button" (click)="createdAcive()" class="btn btn-success">Crear Definicion</button>
                </div>
            </div>
            <hr>
        </form>
    </div>


    

    <div *ngIf="resultsapis" class="col-md-6" style="max-height: 800px; overflow-y: auto;">
        <div *ngIf="(ResponseapiDefinitions || ResponseSingleApiDefinition) && isActiveResults == true ">
                <div *ngFor="let definition of ResponseapiDefinitions"
                    class="bg-white rounded rounded--lg shadow-lg mb-4 p-3">
                    <h4>ApiDefinition</h4>
                    <hr>
                    <p><strong>ID: {{definition.id}}</strong><strong> - Nombre: {{definition.serializer}}</strong></p>
                    <p><strong>Método HTTP:</strong> {{ definition.method }}</p>
                    <p><strong>Descripción:</strong> {{ definition.description }}</p>
                    <p><strong>Url List:</strong> {{ definition.url_list }}</p>
                    <p><strong>Api path:</strong> {{ definition.url_path }}</p>
                    <p><strong>Definición de Función:</strong> {{ definition.fun_definition }}</p>
                    <p><strong>Autorizable:</strong> {{ definition.authenticatable ? 'Sí' : 'No' }}</p>


                    <div style="max-height: 450px; overflow-y: auto;">
                        <h6>Parametros:</h6>
                        <ul *ngFor="let param of this.ResponseApiParams">
                            <li *ngIf="param.id_api_definition == definition.id">
                                <p><strong>ID: {{param.id}}</strong><strong>- Campo:</strong> {{param.field}}</p>
                                <hr>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>

        <div *ngIf="ResponseSingleApiDefinition" class="bg-white rounded rounded--lg shadow-lg mb-4 p-3">
            <div class="d-flex justify-content-between align-items-center">
                <h4>ApiDefinition</h4>
                <button  class="btn btn-warning">Editar</button>
                <button (click)="deleteApiDef(ResponseSingleApiDefinition.id)" class="btn btn-danger">Eliminar</button>
            </div>
            <hr>
            <p><strong>ID: {{ResponseSingleApiDefinition.id}}</strong><strong> -
                    Nombre:{{ResponseSingleApiDefinition.serializer}}</strong></p>
            <p><strong>Método HTTP:</strong> {{ ResponseSingleApiDefinition.method }}</p>
            <p><strong>Descripción:</strong> {{ ResponseSingleApiDefinition.description }}</p>
            <p><strong>Url List:</strong> {{ ResponseSingleApiDefinition.url_list }}</p>
            <p><strong>Api path:</strong> {{ ResponseSingleApiDefinition.url_path }}</p>
            <p><strong>Definición de Función:</strong> {{ ResponseSingleApiDefinition.fun_definition }}</p>
            <p><strong>Autorizable:</strong> {{ ResponseSingleApiDefinition.authenticatable ? 'Sí' : 'No' }}</p>

            <h6>Parametros:</h6><hr>
            <div class="" style="max-height: 300px; overflow-y: auto;">
                <ul *ngFor="let parameter of ResponseApiParams" class="w-100">
                    <li *ngIf="parameter.id_api_definition == ResponseSingleApiDefinition.id">
                        <div class="d-flex justify-content-end">
                            <button class="btn btn-warning me-2">Editar</button>
                            <button (click)="deleteApiParam(parameter.id)" class="btn btn-danger">Eliminar</button>
                        </div>
                        <p><strong>ID: {{parameter.id}}</strong><strong> - Campo:</strong> {{ parameter.field }}</p>
                        <p *ngIf="parameter.id_parameter_type == 1"><strong>Tipo Parámetro:</strong>Primitivo</p>
                        <p *ngIf="parameter.id_parameter_type == 2"><strong>Tipo Parámetro:</strong>Objeto</p>
                        <p *ngIf="parameter.id_parameter_type == 3"><strong>Tipo Parámetro:</strong>Modelo</p>
                        <p *ngIf="parameter.id_parameter_type == 4"><strong>Tipo Parámetro:</strong>Lista</p>
                        <p><strong>Tipo de datos del parámetro:</strong> {{ parameter.data_type }}</p>
                        <p><strong>¿Response - Request?</strong> {{ parameter.in_response ? 'Response' : 'Request' }}
                        </p>
                        <p><strong>¿Requerido?</strong> {{ parameter.required ? 'Sí' : 'No' }}</p>
                        <p><strong>¿En el Body?</strong> {{ parameter.body ? 'Sí' : 'No' }}</p>
                        <hr>
                    </li>
                </ul>
            </div>
        </div>
        </div>
        <app-api-creator *ngIf="createdActive"></app-api-creator>
</div>

